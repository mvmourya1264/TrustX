{% extends "Home.html" %}
{%block head%}
<header>
    <div class="container">
        <div class="header-content">
            <nav><a href="/"><div class="logo">Trust<span>X</span></div></a></nav>
            <nav>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="#">Browse Projects</a></li>
                    <li><a href="/projectdetails">My Projects</a></li>
                </ul>
            </nav>
            <div class="balance">
                <span>Balance: ₹0</span>
            </div>
        </div>
    </div>
</header>
{%endblock%}
{% block content%}
<section class="dashboard">
    <div class="container">
        <div class="dashboard-content">
            <div class="welcome-message">
                <h2>Welcome to Your TrustX Dashboard</h2>
            </div>
            <div class="dashboard-grid">
                <!-- Setup and Profile Card -->
                <div class="setup-card">
                    <h3>Account Setup</h3>
                    <div class="progress-bar">
                        <div class="progress" style="width: 14%;"></div>
                        <span>14%</span>
                    </div>
                    <ul class="tasks">
                        <li>
                            <span>Complete your profile to increase job chances</span>
                            <button class="btn btn-secondary" id="completeProfileBtn">Complete Profile</button>
                        </li>
                        <li>
                            <span>Verify your email</span>
                            <button class="btn btn-secondary">Verify Now</button>
                        </li>
                    </ul>
                    <div class="balance-info">
                        <h4>Balance</h4>
                        <p>₹0</p>
                    </div>
                </div>

                <!-- Resume Upload Card -->
                <div class="resume-upload-card">
                    <h3>Upload Your Resume</h3>
                    <p>Upload your resume (PDF only) to enhance your profile and increase your chances of getting hired.</p>
                    <form id="resumeForm">
                        <div class="form-group">
                            <label for="resume">Resume (PDF only)</label>
                            <input type="file" id="resume" name="resume" accept=".pdf" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Upload Resume</button>
                    </form>
                </div>

                <!-- Financial Dashboard Card -->
                <div class="financial-card">
                    <h3>Financial Dashboard</h3>
                    <p>Track your earnings and withdrawals.</p>
                    <div class="financial-stats">
                        <p>Earnings: ₹0</p>
                        <p>Pending Withdrawals: ₹0</p>
                        <p>Milestone Payments: ₹0</p>
                    </div>
                    <button class="btn btn-primary">Withdraw Funds</button>
                </div>

                <!-- My Projects Card -->
                <div class="projects-card">
                    <h3>My Projects</h3>
                    <p>Manage your ongoing and completed projects.</p>
                    <ul class="project-list">
                        <li>Web Dev Project - In Progress</li>
                        <li>Logo Design - Completed</li>
                    </ul>
                    <a href="my-projects-details.html" class="btn btn-primary">View Details</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Profile Completion Modal -->
<section class="profile-modal" id="profileModal">
    <div class="profile-modal-container">
        <div class="profile-modal-content">
            <div class="profile-modal-form">
                <h2>Complete Your Profile</h2>
                <form id="profileForm">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" required placeholder="Your full name">
                    </div>
                    <div class="form-group">
                        <label for="description">Description/Bio</label>
                        <textarea id="description" name="description" required placeholder="Tell us about yourself (e.g., your expertise, interests, etc.)"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="skills">Skills</label>
                        <textarea id="skills" name="skills" required placeholder="List your skills (e.g., JavaScript, Python, Web Design)"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="experience">Years of Experience</label>
                        <input type="number" id="experience" name="experience" required placeholder="e.g., 5" min="0">
                    </div>
                    <div class="form-group">
                        <label for="portfolio">Portfolio Link (Optional)</label>
                        <input type="url" id="portfolio" name="portfolio" placeholder="e.g., https://yourportfolio.com">
                    </div>
                    <button type="submit" class="btn btn-primary">Save Profile</button>
                </form>
            </div>
        </div>
    </div>
</section>

<style>
    :root {
        --primary: #4361ee;
        --secondary: #3a0ca3;
        --dark: #2b2d42;
        --light: #edf2f4;
    }

    body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
    }

    .container {
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
    }

    header {
        background-color: var(--dark);
        padding: 1rem 0;
    }

    .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .logo {
        font-size: 1.5rem;
        font-weight: 700;
        color: white;
    }

    .logo span {
        color: var(--primary);
    }

    nav ul {
        list-style: none;
        display: flex;
        gap: 1.5rem;
        margin: 0;
        padding: 0;
    }

    nav ul li a {
        color: white;
        text-decoration: none;
        font-size: 1rem;
    }

    nav ul li a:hover {
        color: var(--primary);
    }

    .balance {
        color: white;
        font-size: 1rem;
    }

    .dashboard {
        padding: 2rem 0;
    }

    .welcome-message h2 {
        font-size: 1.5rem;
        color: var(--dark);
        margin-bottom: 2rem;
    }

    .dashboard-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: auto auto;
        gap: 1.5rem;
    }

    /* First row: Setup Card, Resume Upload */
    .dashboard-grid :nth-child(1) {
        grid-column: 1 / 2;
        grid-row: 1 / 2;
    }

    .dashboard-grid :nth-child(2) {
        grid-column: 2 / 3;
        grid-row: 1 / 2;
    }

    /* Second row: Financial Dashboard, My Projects */
    .dashboard-grid :nth-child(3) {
        grid-column: 1 / 2;
        grid-row: 2 / 3;
    }

    .dashboard-grid :nth-child(4) {
        grid-column: 2 / 3;
        grid-row: 2 / 3;
    }

    .projects-card, .setup-card, .financial-card, .resume-upload-card {
        background-color: white;
        padding: 1.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .projects-card h3, .setup-card h3, .financial-card h3, .resume-upload-card h3 {
        font-size: 1.2rem;
        color: var(--secondary);
        margin-bottom: 1rem;
    }

    .projects-card p, .setup-card p, .financial-card p, .resume-upload-card p {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 1rem;
    }

    .job-list, .project-list {
        list-style: none;
        padding: 0;
        margin-bottom: 1rem;
    }

    .job-list li, .project-list li {
        font-size: 0.9rem;
        color: #333;
        margin-bottom: 0.5rem;
    }

    .financial-stats p {
        font-size: 0.9rem;
        color: #333;
        margin-bottom: 0.5rem;
    }

    .btn-primary {
        background-color: var(--primary);
        color: white;
        padding: 0.8rem 1.5rem;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1rem;
        transition: background-color 0.3s;
        display: inline-block;
        text-decoration: none;
        text-align: center;
    }

    .btn-primary:hover {
        background-color: #3652d9;
    }

    .btn-secondary {
        background-color: #f5f5f5;
        color: #333;
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: background-color 0.3s;
    }

    .btn-secondary:hover {
        background-color: #e5e5e5;
    }

    .progress-bar {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
    }

    .progress-bar .progress {
        height: 8px;
        background-color: var(--primary);
        border-radius: 4px;
    }

    .progress-bar span {
        font-size: 0.9rem;
        color: #666;
    }

    .tasks {
        list-style: none;
        padding: 0;
    }

    .tasks li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem 0;
        border-bottom: 1px solid #eee;
    }

    .tasks li span {
        font-size: 0.9rem;
        color: #333;
    }

    .balance-info {
        margin-top: 1.5rem;
    }

    .balance-info h4 {
        font-size: 1rem;
        color: var(--secondary);
        margin-bottom: 0.5rem;
    }

    .balance-info p {
        font-size: 0.9rem;
        color: #333;
    }

    .form-group {
        margin-bottom: 1rem;
    }

    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        color: var(--dark);
        font-size: 0.9rem;
    }

    .form-group input {
        width: 100%;
        padding: 0.6rem;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 1rem;
    }

    /* Profile Modal Styling */
    .profile-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        justify-content: center;
        align-items: center;
    }

    .profile-modal-container {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .profile-modal-content {
        width: 90%;
        max-width: 500px;
        background-color: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .profile-modal-form {
        padding: 2rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .profile-modal-form h2 {
        color: var(--secondary);
        font-size: 2rem;
        margin-bottom: 1.5rem;
        text-align: center;
    }

    .profile-modal-form .btn-primary {
        width: 100%;
        padding: 0.8rem;
        font-size: 1.1rem;
    }

    .profile-modal-form textarea {
        width: 100%;
        padding: 0.6rem;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 1rem;
        height: 100px;
        resize: vertical;
    }

    @media (max-width: 768px) {
        .dashboard-grid {
            grid-template-columns: 1fr;
            grid-template-rows: auto;
        }

        .dashboard-grid :nth-child(1),
        .dashboard-grid :nth-child(2),
        .dashboard-grid :nth-child(3),
        .dashboard-grid :nth-child(4) {
            grid-column: 1 / 2;
            grid-row: auto;
        }

        .welcome-message h2 {
            font-size: 1.2rem;
        }

        .profile-modal-content {
            width: 90%;
            height: auto;
            max-height: 90%;
            overflow-y: auto;
        }

        .profile-modal-form {
            padding: 1.5rem;
        }
    }
</style>

<script>
    // Profile modal toggle
    const completeProfileBtn = document.getElementById('completeProfileBtn');
    const profileModal = document.getElementById('profileModal');
    const profileForm = document.getElementById('profileForm');
    const resumeForm = document.getElementById('resumeForm');

    completeProfileBtn.addEventListener('click', () => {
        profileModal.style.display = 'flex';
    });

    // Close modal when clicking outside
    document.addEventListener('click', (e) => {
        if (!profileModal.contains(e.target) && e.target !== completeProfileBtn) {
            profileModal.style.display = 'none';
        }
    });

    // Handle profile form submission (simulated)
    profileForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const name = document.getElementById('name').value;
        const description = document.getElementById('description').value;
        const skills = document.getElementById('skills').value;
        const experience = document.getElementById('experience').value;
        const portfolio = document.getElementById('portfolio').value;

        if (name && description && skills && experience) {
            alert(`Profile saved successfully!\nName: ${name}\nDescription: ${description}\nSkills: ${skills}\nYears of Experience: ${experience}\nPortfolio: ${portfolio || 'Not provided'}`);
            profileModal.style.display = 'none';
            profileForm.reset();
        } else {
            alert('Please fill in all required fields.');
        }
    });

    // Handle resume form submission (simulated)
    resumeForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const resume = document.getElementById('resume').files[0];
        if (resume) {
            alert(`Resume uploaded successfully!\nFile: ${resume.name}`);
            resumeForm.reset();
        } else {
            alert('Please select a resume file to upload.');
        }
    });
</script>

{% endblock%}